<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Magnetic Cursor | Day 1</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:ital,wght@0,300;0,400;0,600;0,800;0,900;1,300&display=swap"
        rel="stylesheet" />
    <style>
        *,
        *::before,
        *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --w: 390px;
            --h: 844px;
            --bg: #07060f;
            --accent: #8b5cf6;
            --accent2: #d946ef;
            --glow1: rgba(139, 92, 246, 0.5);
            --glow2: rgba(217, 70, 239, 0.4);
            --text: #f5f3ff;
            --muted: rgba(245, 243, 255, 0.5);
        }

        html,
        body {
            width: 100%;
            height: 100%;
            background: #0a0a0a;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: none;
            overflow: hidden;
            font-family: 'Inter', sans-serif;
        }

        #canvas {
            position: relative;
            width: var(--w);
            height: var(--h);
            background: var(--bg);
            overflow: hidden;
            border-radius: 0px;
            box-shadow:
                0 0 0 1.5px rgba(255, 255, 255, 0.07),
                0 40px 120px rgba(0, 0, 0, 0.9),
                0 0 80px rgba(139, 92, 246, 0.08);
        }

        .bg-orb {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
        }

        .bg-orb-1 {
            width: 420px;
            height: 420px;
            background: radial-gradient(circle, rgba(139, 92, 246, 0.22) 0%, transparent 70%);
            top: -100px;
            left: -80px;
            animation: drift1 9s ease-in-out infinite;
        }

        .bg-orb-2 {
            width: 360px;
            height: 360px;
            background: radial-gradient(circle, rgba(217, 70, 239, 0.18) 0%, transparent 70%);
            bottom: -80px;
            right: -60px;
            animation: drift2 11s ease-in-out infinite;
        }

        .bg-orb-3 {
            width: 260px;
            height: 260px;
            background: radial-gradient(circle, rgba(59, 130, 246, 0.12) 0%, transparent 70%);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            animation: drift1 7s ease-in-out infinite reverse;
        }

        @keyframes drift1 {

            0%,
            100% {
                transform: translate(0, 0) scale(1);
            }

            50% {
                transform: translate(30px, 20px) scale(1.08);
            }
        }

        @keyframes drift2 {

            0%,
            100% {
                transform: translate(0, 0) scale(1);
            }

            50% {
                transform: translate(-25px, -15px) scale(1.06);
            }
        }

        .grid-bg {
            position: absolute;
            inset: 0;
            background-image:
                linear-gradient(rgba(255, 255, 255, 0.028) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.028) 1px, transparent 1px);
            background-size: 40px 40px;
            mask-image: radial-gradient(ellipse 80% 80% at 50% 50%, black 0%, transparent 100%);
        }

        #cursor-dot {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #fff;
            border-radius: 50%;
            pointer-events: none;
            z-index: 999;
            transform: translate(-50%, -50%);
            mix-blend-mode: difference;
            transition: width .15s, height .15s, background .15s;
        }

        #cursor-ring {
            position: absolute;
            width: 54px;
            height: 54px;
            border: 2px solid var(--accent);
            border-radius: 50%;
            pointer-events: none;
            z-index: 998;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 18px var(--glow1), inset 0 0 18px rgba(139, 92, 246, 0.08);
            transition: width .25s cubic-bezier(.16, 1, .3, 1),
                height .25s cubic-bezier(.16, 1, .3, 1),
                border-color .2s,
                box-shadow .2s;
        }

        #cursor-ring.hovered {
            width: 70px;
            height: 70px;
            border-color: var(--accent2);
            box-shadow: 0 0 30px var(--glow2), inset 0 0 30px rgba(217, 70, 239, 0.1);
        }

        #particle-canvas {
            position: absolute;
            inset: 0;
            pointer-events: none;
            z-index: 10;
        }

        .top-label {
            position: absolute;
            top: 2.4rem;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            z-index: 50;
        }

        .badge {
            display: inline-flex;
            align-items: center;
            gap: 0.45rem;
            font-size: 0.68rem;
            font-weight: 700;
            letter-spacing: 0.14em;
            text-transform: uppercase;
            color: var(--accent2);
            background: rgba(217, 70, 239, 0.1);
            border: 1px solid rgba(217, 70, 239, 0.25);
            border-radius: 100px;
            padding: 0.38rem 1rem;
        }

        .badge-dot {
            width: 5px;
            height: 5px;
            border-radius: 50%;
            background: var(--accent2);
            animation: blink 1.8s infinite;
        }

        @keyframes blink {

            0%,
            100% {
                opacity: 1;
                transform: scale(1);
            }

            50% {
                opacity: .3;
                transform: scale(.6);
            }
        }

        .hero-text {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            transform: translateY(-58%);
            text-align: center;
            z-index: 50;
            padding: 0 2rem;
            pointer-events: none;
        }

        .hero-text h1 {
            font-size: 3.4rem;
            font-weight: 900;
            letter-spacing: -0.04em;
            line-height: 1.0;
            color: var(--text);
            margin-bottom: 1rem;
        }

        .hero-text h1 em {
            font-style: normal;
            background: linear-gradient(135deg, var(--accent), var(--accent2));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-text p {
            font-size: 0.9rem;
            color: var(--muted);
            font-weight: 300;
            line-height: 1.65;
            letter-spacing: 0.01em;
        }

        .mag-buttons {
            position: absolute;
            bottom: 220px;
            left: 0;
            right: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
            z-index: 50;
        }

        .mag-btn {
            position: relative;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 1rem 2.8rem;
            border-radius: 100px;
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            font-weight: 700;
            letter-spacing: 0.01em;
            cursor: none;
            border: none;
            outline: none;
            will-change: transform;
            transition: box-shadow 0.3s ease;
        }

        .mag-btn.primary {
            background: linear-gradient(135deg, var(--accent), var(--accent2));
            color: #fff;
            box-shadow: 0 0 0 rgba(139, 92, 246, 0);
        }

        .mag-btn.primary:hover {
            box-shadow: 0 10px 50px rgba(139, 92, 246, 0.6), 0 0 80px rgba(217, 70, 239, 0.3);
        }

        .mag-btn.outline {
            background: rgba(255, 255, 255, 0.04);
            color: var(--text);
            border: 1.5px solid rgba(255, 255, 255, 0.12);
        }

        .mag-btn.outline:hover {
            border-color: rgba(139, 92, 246, 0.6);
            box-shadow: 0 0 30px rgba(139, 92, 246, 0.2);
        }

        .bottom-bar {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 190px;
            background: linear-gradient(to top, rgba(7, 6, 15, 1) 60%, transparent);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
            padding-bottom: 2.5rem;
            z-index: 50;
            gap: 0.55rem;
        }

        .bottom-bar .code-line {
            font-family: 'Courier New', monospace;
            font-size: 0.7rem;
            color: rgba(139, 92, 246, 0.7);
            letter-spacing: 0.04em;
        }

        .bottom-bar .handle {
            font-size: 0.78rem;
            font-weight: 600;
            color: var(--muted);
            letter-spacing: 0.06em;
        }

        .bottom-bar .day-label {
            font-size: 0.68rem;
            color: rgba(255, 255, 255, 0.2);
            letter-spacing: 0.12em;
            text-transform: uppercase;
        }

        .deco-ring {
            position: absolute;
            border-radius: 50%;
            border: 1px solid;
            pointer-events: none;
            animation: spin linear infinite;
        }

        .deco-ring-1 {
            width: 340px;
            height: 340px;
            border-color: rgba(139, 92, 246, 0.08);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -55%);
            animation-duration: 20s;
        }

        .deco-ring-2 {
            width: 240px;
            height: 240px;
            border-color: rgba(217, 70, 239, 0.08);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -55%);
            animation-duration: 14s;
            animation-direction: reverse;
        }

        @keyframes spin {
            from {
                transform: translate(-50%, -55%) rotate(0deg);
            }

            to {
                transform: translate(-50%, -55%) rotate(360deg);
            }
        }
    </style>
</head>

<body>

    <div id="canvas">
        <div class="grid-bg"></div>
        <div class="bg-orb bg-orb-1"></div>
        <div class="bg-orb bg-orb-2"></div>
        <div class="bg-orb bg-orb-3"></div>
        <div class="deco-ring deco-ring-1"></div>
        <div class="deco-ring deco-ring-2"></div>

        <div id="cursor-dot"></div>
        <div id="cursor-ring"></div>

        <canvas id="particle-canvas"></canvas>

        <div class="top-label">
            <div class="badge">
                <div class="badge-dot"></div>Day 01 · Magnetic Cursor
            </div>
        </div>

        <div class="hero-text">
            <h1>Pure<br /><em>Magnetic</em><br />Vanilla JS</h1>
            <p>No libraries. No GSAP.<br />Just math &amp; rAF.</p>
        </div>

        <div class="mag-buttons">
            <button class="mag-btn primary" id="btn1">✦ Pull Me</button>
            <button class="mag-btn outline" id="btn2">Hover Close</button>
        </div>

        <div class="bottom-bar">
            <div class="code-line">lerp(current, target, 0.12)</div>
            <div class="handle">30 Days of Insane Web</div>
            <div class="day-label">Day 01 of 30</div>
        </div>
    </div>

    <script>

        const canvas = document.getElementById('canvas');
        const dot = document.getElementById('cursor-dot');
        const ring = document.getElementById('cursor-ring');
        const pCanvas = document.getElementById('particle-canvas');
        const ctx = pCanvas.getContext('2d');

        pCanvas.width = canvas.clientWidth;
        pCanvas.height = canvas.clientHeight;


        let mx = 195, my = 422;
        let ringX = 195, ringY = 422;

        canvas.addEventListener('mousemove', e => {
            const r = canvas.getBoundingClientRect();
            mx = e.clientX - r.left;
            my = e.clientY - r.top;

            dot.style.left = mx + 'px';
            dot.style.top = my + 'px';

            spawnParticles(mx, my);
        });

        function animateRing() {
            ringX += (mx - ringX) * 0.10;
            ringY += (my - ringY) * 0.10;
            ring.style.left = ringX + 'px';
            ring.style.top = ringY + 'px';
            requestAnimationFrame(animateRing);
        }
        animateRing();

        document.querySelectorAll('.mag-btn').forEach(el => {
            el.addEventListener('mouseenter', () => ring.classList.add('hovered'));
            el.addEventListener('mouseleave', () => ring.classList.remove('hovered'));
        });


        class Magnetic {
            constructor(el, { radius = 110, strength = 0.55, lerp = 0.13 } = {}) {
                this.el = el;
                this.R = radius;
                this.S = strength;
                this.L = lerp;
                this.cx = 0; this.cy = 0;
                this.tx = 0; this.ty = 0;
                this.active = false;

                canvas.addEventListener('mousemove', e => this.move(e));
                canvas.addEventListener('mouseleave', () => this.reset());
            }

            center() {
                const r = this.el.getBoundingClientRect();
                const cr = canvas.getBoundingClientRect();
                return { x: r.left - cr.left + r.width / 2, y: r.top - cr.top + r.height / 2 };
            }

            move(e) {
                const cr = canvas.getBoundingClientRect();
                const px = e.clientX - cr.left;
                const py = e.clientY - cr.top;
                const { x, y } = this.center();
                const dx = px - x, dy = py - y;
                const dist = Math.hypot(dx, dy);

                if (dist < this.R) {
                    const f = (this.R - dist) / this.R;
                    this.tx = dx * f * this.S;
                    this.ty = dy * f * this.S;
                    if (!this.active) { this.active = true; this.tick(); }
                } else {
                    this.tx = 0; this.ty = 0;
                }
            }

            reset() { this.tx = 0; this.ty = 0; }

            tick() {
                this.cx += (this.tx - this.cx) * this.L;
                this.cy += (this.ty - this.cy) * this.L;
                this.el.style.transform = `translate(${this.cx}px, ${this.cy}px)`;

                if (Math.abs(this.cx) > 0.05 || Math.abs(this.cy) > 0.05 ||
                    Math.abs(this.tx) > 0.05 || Math.abs(this.ty) > 0.05) {
                    requestAnimationFrame(() => this.tick());
                } else {
                    this.active = false;
                    this.cx = this.cy = 0;
                    this.el.style.transform = '';
                }
            }
        }

        new Magnetic(document.getElementById('btn1'), { radius: 120, strength: 0.6, lerp: 0.14 });
        new Magnetic(document.getElementById('btn2'), { radius: 100, strength: 0.5, lerp: 0.12 });

        let particles = [];

        function spawnParticles(x, y) {
            const count = 3;
            for (let i = 0; i < count; i++) {
                const angle = Math.random() * Math.PI * 2;
                const speed = Math.random() * 1.4 + 0.4;
                particles.push({
                    x, y,
                    vx: Math.cos(angle) * speed * 0.6,
                    vy: Math.sin(angle) * speed * 0.6 - 0.5,
                    life: 1.0,
                    decay: Math.random() * 0.025 + 0.018,
                    size: Math.random() * 3.5 + 1.5,
                    hue: Math.random() > 0.5 ? 263 : 292,   // purple or magenta
                });
            }
        }

        function drawParticles() {
            ctx.clearRect(0, 0, pCanvas.width, pCanvas.height);

            particles = particles.filter(p => p.life > 0);

            for (const p of particles) {
                ctx.save();
                ctx.globalAlpha = p.life * 0.75;
                ctx.beginPath();
                const grad = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, p.size);
                grad.addColorStop(0, `hsl(${p.hue}, 100%, 80%)`);
                grad.addColorStop(1, `hsla(${p.hue}, 90%, 50%, 0)`);
                ctx.fillStyle = grad;
                ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                ctx.fill();
                ctx.restore();

                p.x += p.vx;
                p.y += p.vy;
                p.vy -= 0.04; 
                p.life -= p.decay;
                p.size *= 0.97;
            }

            requestAnimationFrame(drawParticles);
        }
        drawParticles();
      
        let userMoved = false;
        canvas.addEventListener('mousemove', () => { userMoved = true; }, { once: true });

        const btn1 = document.getElementById('btn1');
        let demoT = 0;

        function demoLoop() {
            if (userMoved) return;

            const r = btn1.getBoundingClientRect();
            const cr = canvas.getBoundingClientRect();
            const bx = r.left - cr.left + r.width / 2;
            const by = r.top - cr.top + r.height / 2;
            const radius = 90;
            demoT += 0.012;

            mx = bx + Math.cos(demoT) * radius;
            my = by + Math.sin(demoT) * radius * 0.6;

            dot.style.left = mx + 'px';
            dot.style.top = my + 'px';
            spawnParticles(mx + (Math.random() - 0.5) * 6, my + (Math.random() - 0.5) * 6);

            requestAnimationFrame(demoLoop);
        }
        demoLoop();
    </script>
</body>

</html>
